import{Q as G,c as m,b0 as V,L as $,M as b,W as A,r as H,O as a,bh as I,Y as Q}from"./index-CplmWIIo.js";import{a as Y,E as J}from"./form_control_layout-SsBD87P6.js";var X={isEventSupported:function(t,e){return"on".concat(t)in e}},Z=Object.freeze(X),ee=function(t){var e=G(t);return{euiFieldSearch:m("-webkit-appearance:textfield;&::-webkit-search-decoration,&::-webkit-search-cancel-button{-webkit-appearance:none;}",e.shared," &:invalid{",e.invalid,";}&:focus{",e.focus,";}&:disabled{",e.disabled,";}&[readOnly]{",e.readOnly,";}&:autofill{",e.autoFill,";};label:euiFieldSearch;"),uncompressed:e.uncompressed,compressed:m(e.compressed,";label:compressed;"),formWidth:e.formWidth,fullWidth:m(e.fullWidth,";label:fullWidth;"),inGroup:m(e.inGroup,";label:inGroup;")}},te=["stylesMemoizer","className","id","name","placeholder","isInvalid","disabled","fullWidth","isLoading","inputRef","incremental","compressed","onSearch","isClearable","append","prepend"];function f(r){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(r)}function _(){return _=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},_.apply(null,arguments)}function re(r,t){if(r==null)return{};var e,n,s=ne(r,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(n=0;n<l.length;n++)e=l[n],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(r,e)&&(s[e]=r[e])}return s}function ne(r,t){if(r==null)return{};var e={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;e[n]=r[n]}return e}function ie(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,k(n.key),n)}}function oe(r,t,e){return t&&ae(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function le(r,t,e){return t=y(t),se(r,x()?Reflect.construct(t,e||[],y(r).constructor):t.apply(r,e))}function se(r,t){if(t&&(f(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ue(r)}function ue(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function x(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!r})()}function y(r){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(r)}function ce(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&w(r,t)}function w(r,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},w(r,t)}function u(r,t,e){return(t=k(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function k(r){var t=pe(r,"string");return f(t)=="symbol"?t:t+""}function pe(r,t){if(f(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var E=!1,v=(function(r){function t(){var e;ie(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=le(this,t,[].concat(s)),u(e,"state",{value:e.props.value||String(e.props.defaultValue||"")}),u(e,"inputElement",null),u(e,"cleanups",[]),u(e,"onClear",function(){var i=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),o=i?i.set:void 0;o&&o.call(e.inputElement,"");var c=new Event("input",{bubbles:!0,cancelable:!1});e.inputElement&&(e.inputElement.dispatchEvent(c),e.inputElement.focus(),e.inputElement.dispatchEvent(new Event("change"))),e.setState({value:""});var d=e.props,g=d.incremental,h=d.onSearch;h&&g&&h("")}),u(e,"setRef",function(i){e.inputElement=i,e.props.inputRef&&e.props.inputRef(i)}),u(e,"onKeyUp",function(i,o,c){e.setState({value:i.target.value}),!(e.props.onKeyUp&&(e.props.onKeyUp(i),i.defaultPrevented))&&c&&(i.key!==I&&o||i.key===I&&!E)&&c(i.target.value)}),e}return ce(t,r),oe(t,[{key:"componentDidMount",value:function(){var n=this;if(this.inputElement){if(E=Z.isEventSupported("search",this.inputElement),E){var s=function(o){if(n.props.onSearch){if(!o||!o.target||o.defaultPrevented)return;n.props.onSearch(o.target.value)}};this.inputElement.addEventListener("search",s),this.cleanups.push(function(){n.inputElement&&n.inputElement.removeEventListener("search",s)})}var l=function(o){o.target&&o.target.value!==n.state.value&&(n.setState({value:o.target.value}),n.props.onSearch&&n.props.onSearch(o.target.value))};this.inputElement.addEventListener("change",l)}}},{key:"componentWillUnmount",value:function(){this.cleanups.forEach(function(n){return n()})}},{key:"render",value:function(){var n=this,s=this.context,l=s.defaultFullWidth,i=this.props,o=i.stylesMemoizer,c=i.className,d=i.id,g=i.name,h=i.placeholder,S=i.isInvalid,O=i.disabled,P=i.fullWidth,R=P===void 0?l:P,C=i.isLoading;i.inputRef;var N=i.incremental,j=i.compressed,M=i.onSearch,U=i.isClearable,W=i.append,F=i.prepend,T=re(i,te),L=this.props.value;typeof this.props.value!="string"&&(L=this.state.value);var q=!!(U&&L&&!T.readOnly&&!O),B=$("euiFieldSearch",{"euiFieldSearch-isLoading":C,"euiFieldSearch-isClearable":q,"euiFieldSearch-isInvalid":S},c),p=o(ee),K=[p.euiFieldSearch,j?p.compressed:p.uncompressed,R?p.fullWidth:p.formWidth,(F||W)&&p.inGroup];return b(A,{token:"euiFieldSearch.clearSearchButtonLabel",default:"Clear search input"},function(z){return b(Y,{icon:"search",fullWidth:R,isLoading:C,isInvalid:S,isDisabled:O,clear:q?{onClick:n.onClear,"aria-label":z,"data-test-subj":"clearSearchButton"}:void 0,compressed:j,append:W,prepend:F},b(J,{isInvalid:S},b("input",_({type:"search",id:d,name:g,placeholder:h,className:B,css:K,onKeyUp:function(D){return n.onKeyUp(D,N,M)},disabled:O,ref:n.setRef},T))))})}}])})(H.Component);u(v,"contextType",Q);u(v,"defaultProps",{isLoading:!1,incremental:!1,compressed:!1,isClearable:!0});v.propTypes={name:a.string,id:a.string,placeholder:a.string,value:a.string,isInvalid:a.bool,fullWidth:a.bool,isLoading:a.bool,onSearch:a.func,incremental:a.bool,compressed:a.bool,inputRef:a.func,isClearable:a.bool,prepend:a.oneOfType([a.oneOfType([a.string.isRequired,a.element.isRequired]).isRequired,a.arrayOf(a.oneOfType([a.string.isRequired,a.element.isRequired]).isRequired).isRequired]),append:a.oneOfType([a.oneOfType([a.string.isRequired,a.element.isRequired]).isRequired,a.arrayOf(a.oneOfType([a.string.isRequired,a.element.isRequired]).isRequired).isRequired]),className:a.string,"aria-label":a.string,"data-test-subj":a.string,css:a.any};var me=V(v);export{me as E};
